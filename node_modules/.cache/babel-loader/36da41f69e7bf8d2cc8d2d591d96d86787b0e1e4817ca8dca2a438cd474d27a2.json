{"ast":null,"code":"import axios from 'axios';\n\n// axios 인스턴스 생성\nconst api = axios.create({\n  baseURL: '/api',\n  timeout: 30000,\n  // 30초\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n/**\r\n * LLM API와 통신하는 함수\r\n * @param {string} query - 사용자 질의 내용\r\n * @param {string} language - 언어 코드 (기본값: \"ko\")\r\n * @param {Object} additionalParams - 서비스별 추가 파라미터\r\n * @returns {Promise<Object>} API 응답 결과\r\n */\nexport const askLLMApi = async (query, language = \"ko\", additionalParams = {}) => {\n  try {\n    // API 요청 데이터 준비\n    const payload = {\n      query,\n      language,\n      ...additionalParams\n    };\n\n    // API 호출\n    const response = await api.post('/llm', payload);\n    return {\n      success: true,\n      data: response.data\n    };\n  } catch (error) {\n    console.error('API 호출 오류:', error);\n\n    // 오류 유형에 따른 메시지 생성\n    let errorMessage = '알 수 없는 오류가 발생했습니다.';\n    if (error.code === 'ECONNABORTED') {\n      errorMessage = 'API 요청 시간이 초과되었습니다. 나중에 다시 시도해주세요.';\n    } else if (error.response) {\n      // 서버에서 응답을 받았지만 오류 상태 코드가 반환된 경우\n      errorMessage = `서버 오류: ${error.response.status}`;\n      if (error.response.data && error.response.data.error) {\n        errorMessage = error.response.data.error;\n      }\n    } else if (error.request) {\n      // 요청이 이루어졌지만 응답을 받지 못한 경우\n      errorMessage = 'API 서버에 연결할 수 없습니다. 네트워크 연결을 확인해주세요.';\n    }\n    return {\n      success: false,\n      error: errorMessage\n    };\n  }\n};\nexport default {\n  askLLMApi\n};","map":{"version":3,"names":["axios","api","create","baseURL","timeout","headers","askLLMApi","query","language","additionalParams","payload","response","post","success","data","error","console","errorMessage","code","status","request"],"sources":["D:/01_study/streamlit_front/intellytics-react-app/src/services/apiService.js"],"sourcesContent":["import axios from 'axios';\r\n\r\n// axios 인스턴스 생성\r\nconst api = axios.create({\r\n  baseURL: '/api',\r\n  timeout: 30000, // 30초\r\n  headers: {\r\n    'Content-Type': 'application/json'\r\n  }\r\n});\r\n\r\n/**\r\n * LLM API와 통신하는 함수\r\n * @param {string} query - 사용자 질의 내용\r\n * @param {string} language - 언어 코드 (기본값: \"ko\")\r\n * @param {Object} additionalParams - 서비스별 추가 파라미터\r\n * @returns {Promise<Object>} API 응답 결과\r\n */\r\nexport const askLLMApi = async (query, language = \"ko\", additionalParams = {}) => {\r\n  try {\r\n    // API 요청 데이터 준비\r\n    const payload = {\r\n      query,\r\n      language,\r\n      ...additionalParams\r\n    };\r\n    \r\n    // API 호출\r\n    const response = await api.post('/llm', payload);\r\n    return { success: true, data: response.data };\r\n  } catch (error) {\r\n    console.error('API 호출 오류:', error);\r\n    \r\n    // 오류 유형에 따른 메시지 생성\r\n    let errorMessage = '알 수 없는 오류가 발생했습니다.';\r\n    \r\n    if (error.code === 'ECONNABORTED') {\r\n      errorMessage = 'API 요청 시간이 초과되었습니다. 나중에 다시 시도해주세요.';\r\n    } else if (error.response) {\r\n      // 서버에서 응답을 받았지만 오류 상태 코드가 반환된 경우\r\n      errorMessage = `서버 오류: ${error.response.status}`;\r\n      if (error.response.data && error.response.data.error) {\r\n        errorMessage = error.response.data.error;\r\n      }\r\n    } else if (error.request) {\r\n      // 요청이 이루어졌지만 응답을 받지 못한 경우\r\n      errorMessage = 'API 서버에 연결할 수 없습니다. 네트워크 연결을 확인해주세요.';\r\n    }\r\n    \r\n    return { success: false, error: errorMessage };\r\n  }\r\n};\r\n\r\nexport default {\r\n  askLLMApi\r\n}; "],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;;AAEzB;AACA,MAAMC,GAAG,GAAGD,KAAK,CAACE,MAAM,CAAC;EACvBC,OAAO,EAAE,MAAM;EACfC,OAAO,EAAE,KAAK;EAAE;EAChBC,OAAO,EAAE;IACP,cAAc,EAAE;EAClB;AACF,CAAC,CAAC;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMC,SAAS,GAAG,MAAAA,CAAOC,KAAK,EAAEC,QAAQ,GAAG,IAAI,EAAEC,gBAAgB,GAAG,CAAC,CAAC,KAAK;EAChF,IAAI;IACF;IACA,MAAMC,OAAO,GAAG;MACdH,KAAK;MACLC,QAAQ;MACR,GAAGC;IACL,CAAC;;IAED;IACA,MAAME,QAAQ,GAAG,MAAMV,GAAG,CAACW,IAAI,CAAC,MAAM,EAAEF,OAAO,CAAC;IAChD,OAAO;MAAEG,OAAO,EAAE,IAAI;MAAEC,IAAI,EAAEH,QAAQ,CAACG;IAAK,CAAC;EAC/C,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,YAAY,EAAEA,KAAK,CAAC;;IAElC;IACA,IAAIE,YAAY,GAAG,oBAAoB;IAEvC,IAAIF,KAAK,CAACG,IAAI,KAAK,cAAc,EAAE;MACjCD,YAAY,GAAG,oCAAoC;IACrD,CAAC,MAAM,IAAIF,KAAK,CAACJ,QAAQ,EAAE;MACzB;MACAM,YAAY,GAAG,UAAUF,KAAK,CAACJ,QAAQ,CAACQ,MAAM,EAAE;MAChD,IAAIJ,KAAK,CAACJ,QAAQ,CAACG,IAAI,IAAIC,KAAK,CAACJ,QAAQ,CAACG,IAAI,CAACC,KAAK,EAAE;QACpDE,YAAY,GAAGF,KAAK,CAACJ,QAAQ,CAACG,IAAI,CAACC,KAAK;MAC1C;IACF,CAAC,MAAM,IAAIA,KAAK,CAACK,OAAO,EAAE;MACxB;MACAH,YAAY,GAAG,sCAAsC;IACvD;IAEA,OAAO;MAAEJ,OAAO,EAAE,KAAK;MAAEE,KAAK,EAAEE;IAAa,CAAC;EAChD;AACF,CAAC;AAED,eAAe;EACbX;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}