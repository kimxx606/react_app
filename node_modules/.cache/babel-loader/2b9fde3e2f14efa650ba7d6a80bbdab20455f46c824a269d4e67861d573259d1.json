{"ast":null,"code":"import axios from 'axios';\n\n// axios ì¸ìŠ¤í„´ìŠ¤ ìƒì„±\nconst api = axios.create({\n  baseURL: '/api',\n  timeout: 30000 //, // 30ì´ˆ\n  // headers: {\n  //   'Content-Type': 'application/json'\n  // }\n});\n\n/**\r\n * LLM APIì™€ í†µì‹ í•˜ëŠ” í•¨ìˆ˜\r\n * @param {string} query - ì‚¬ìš©ì ì§ˆì˜ ë‚´ìš©\r\n * @param {string} language - ì–¸ì–´ ì½”ë“œ (ê¸°ë³¸ê°’: \"ko\")\r\n * @param {Object} additionalParams - ì„œë¹„ìŠ¤ë³„ ì¶”ê°€ íŒŒë¼ë¯¸í„°\r\n * @returns {Promise<Object>} API ì‘ë‹µ ê²°ê³¼\r\n */\nexport const askLLMApi = async (query, language = \"ko\") => {\n  try {\n    // API ìš”ì²­ ë°ì´í„° ì¤€ë¹„\n    query = query.replace(\"\\n\", \"\");\n    const payload = {\n      query,\n      language\n      // language,\n      // ...additionalParams\n    };\n\n    // API í˜¸ì¶œ\n    console.log(\"ğŸ”¥ API í˜¸ì¶œì „\");\n    const response = await api.post('/llm', payload);\n    // const response = await api.post('/llm', { query, language });\n    console.log(\"ğŸ“¥ ì‘ë‹µ:\", response.data);\n    console.log(\"âœ… response.data:\", response.data.data);\n    return {\n      success: true,\n      data: response.data.data\n    };\n    // return { success: true, data: response.data };\n  } catch (error) {\n    // console.error(response)\n    console.error(\"ğŸ”¥ ì „ì²´ ì—ëŸ¬:\", error);\n    console.error(\"ğŸ“¦ error.response:\", error.response);\n    console.error(\"ğŸ“¡ error.request:\", error.request);\n\n    // ì˜¤ë¥˜ ìœ í˜•ì— ë”°ë¥¸ ë©”ì‹œì§€ ìƒì„±\n    let errorMessage = 'ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.';\n    if (error.code === 'ECONNABORTED') {\n      errorMessage = 'API ìš”ì²­ ì‹œê°„ì´ ì´ˆê³¼ë˜ì—ˆìŠµë‹ˆë‹¤. ë‚˜ì¤‘ì— ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.';\n    } else if (error.response) {\n      // ì„œë²„ì—ì„œ ì‘ë‹µì„ ë°›ì•˜ì§€ë§Œ ì˜¤ë¥˜ ìƒíƒœ ì½”ë“œê°€ ë°˜í™˜ëœ ê²½ìš°\n      errorMessage = `ì„œë²„ ì˜¤ë¥˜: ${error.response.status}`;\n      if (error.response.data && error.response.data.error) {\n        errorMessage = error.response.data.error;\n      }\n    } else if (error.request) {\n      // ìš”ì²­ì´ ì´ë£¨ì–´ì¡Œì§€ë§Œ ì‘ë‹µì„ ë°›ì§€ ëª»í•œ ê²½ìš°\n      errorMessage = 'API ì„œë²„ì— ì—°ê²°í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì„ í™•ì¸í•´ì£¼ì„¸ìš”.apiService2';\n    }\n    return {\n      success: false,\n      error: errorMessage\n    };\n  }\n};\n\n// export default {\n//   askLLMApi\n// }; \n\nconst apiService = {\n  askLLMApi\n};\nexport default apiService;","map":{"version":3,"names":["axios","api","create","baseURL","timeout","askLLMApi","query","language","replace","payload","console","log","response","post","data","success","error","request","errorMessage","code","status","apiService"],"sources":["D:/01_study/react_app/src/services/apiService.js"],"sourcesContent":["import axios from 'axios';\r\n\r\n// axios ì¸ìŠ¤í„´ìŠ¤ ìƒì„±\r\nconst api = axios.create({\r\n  baseURL: '/api',\r\n  timeout: 30000//, // 30ì´ˆ\r\n  // headers: {\r\n  //   'Content-Type': 'application/json'\r\n  // }\r\n});\r\n\r\n/**\r\n * LLM APIì™€ í†µì‹ í•˜ëŠ” í•¨ìˆ˜\r\n * @param {string} query - ì‚¬ìš©ì ì§ˆì˜ ë‚´ìš©\r\n * @param {string} language - ì–¸ì–´ ì½”ë“œ (ê¸°ë³¸ê°’: \"ko\")\r\n * @param {Object} additionalParams - ì„œë¹„ìŠ¤ë³„ ì¶”ê°€ íŒŒë¼ë¯¸í„°\r\n * @returns {Promise<Object>} API ì‘ë‹µ ê²°ê³¼\r\n */\r\nexport const askLLMApi = async (query, language = \"ko\") => {\r\n  try {\r\n    // API ìš”ì²­ ë°ì´í„° ì¤€ë¹„\r\n    query = query.replace(\"\\n\", \"\")\r\n    const payload = {\r\n      query,\r\n      language\r\n      // language,\r\n      // ...additionalParams\r\n    };\r\n    \r\n    // API í˜¸ì¶œ\r\n    console.log(\"ğŸ”¥ API í˜¸ì¶œì „\");\r\n    const response = await api.post('/llm', payload);\r\n    // const response = await api.post('/llm', { query, language });\r\n    console.log(\"ğŸ“¥ ì‘ë‹µ:\", response.data);\r\n    console.log(\"âœ… response.data:\", response.data.data);\r\n    return { success: true, data: response.data.data };\r\n    // return { success: true, data: response.data };\r\n  } catch (error) {\r\n    // console.error(response)\r\n    console.error(\"ğŸ”¥ ì „ì²´ ì—ëŸ¬:\", error);\r\n    console.error(\"ğŸ“¦ error.response:\", error.response);\r\n    console.error(\"ğŸ“¡ error.request:\", error.request);\r\n    \r\n    // ì˜¤ë¥˜ ìœ í˜•ì— ë”°ë¥¸ ë©”ì‹œì§€ ìƒì„±\r\n    let errorMessage = 'ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.';\r\n    \r\n    if (error.code === 'ECONNABORTED') {\r\n      errorMessage = 'API ìš”ì²­ ì‹œê°„ì´ ì´ˆê³¼ë˜ì—ˆìŠµë‹ˆë‹¤. ë‚˜ì¤‘ì— ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.';\r\n    } else if (error.response) {\r\n      // ì„œë²„ì—ì„œ ì‘ë‹µì„ ë°›ì•˜ì§€ë§Œ ì˜¤ë¥˜ ìƒíƒœ ì½”ë“œê°€ ë°˜í™˜ëœ ê²½ìš°\r\n      errorMessage = `ì„œë²„ ì˜¤ë¥˜: ${error.response.status}`;\r\n      if (error.response.data && error.response.data.error) {\r\n        errorMessage = error.response.data.error;\r\n      }\r\n    } else if (error.request) {\r\n      // ìš”ì²­ì´ ì´ë£¨ì–´ì¡Œì§€ë§Œ ì‘ë‹µì„ ë°›ì§€ ëª»í•œ ê²½ìš°\r\n      errorMessage = 'API ì„œë²„ì— ì—°ê²°í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì„ í™•ì¸í•´ì£¼ì„¸ìš”.apiService2';\r\n    }\r\n    \r\n    return { success: false, error: errorMessage };\r\n  }\r\n};\r\n\r\n// export default {\r\n//   askLLMApi\r\n// }; \r\n\r\nconst apiService = {\r\n  askLLMApi\r\n};\r\n\r\nexport default apiService;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;;AAEzB;AACA,MAAMC,GAAG,GAAGD,KAAK,CAACE,MAAM,CAAC;EACvBC,OAAO,EAAE,MAAM;EACfC,OAAO,EAAE,KAAK;EACd;EACA;EACA;AACF,CAAC,CAAC;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMC,SAAS,GAAG,MAAAA,CAAOC,KAAK,EAAEC,QAAQ,GAAG,IAAI,KAAK;EACzD,IAAI;IACF;IACAD,KAAK,GAAGA,KAAK,CAACE,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC;IAC/B,MAAMC,OAAO,GAAG;MACdH,KAAK;MACLC;MACA;MACA;IACF,CAAC;;IAED;IACAG,OAAO,CAACC,GAAG,CAAC,YAAY,CAAC;IACzB,MAAMC,QAAQ,GAAG,MAAMX,GAAG,CAACY,IAAI,CAAC,MAAM,EAAEJ,OAAO,CAAC;IAChD;IACAC,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEC,QAAQ,CAACE,IAAI,CAAC;IACpCJ,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEC,QAAQ,CAACE,IAAI,CAACA,IAAI,CAAC;IACnD,OAAO;MAAEC,OAAO,EAAE,IAAI;MAAED,IAAI,EAAEF,QAAQ,CAACE,IAAI,CAACA;IAAK,CAAC;IAClD;EACF,CAAC,CAAC,OAAOE,KAAK,EAAE;IACd;IACAN,OAAO,CAACM,KAAK,CAAC,WAAW,EAAEA,KAAK,CAAC;IACjCN,OAAO,CAACM,KAAK,CAAC,oBAAoB,EAAEA,KAAK,CAACJ,QAAQ,CAAC;IACnDF,OAAO,CAACM,KAAK,CAAC,mBAAmB,EAAEA,KAAK,CAACC,OAAO,CAAC;;IAEjD;IACA,IAAIC,YAAY,GAAG,oBAAoB;IAEvC,IAAIF,KAAK,CAACG,IAAI,KAAK,cAAc,EAAE;MACjCD,YAAY,GAAG,oCAAoC;IACrD,CAAC,MAAM,IAAIF,KAAK,CAACJ,QAAQ,EAAE;MACzB;MACAM,YAAY,GAAG,UAAUF,KAAK,CAACJ,QAAQ,CAACQ,MAAM,EAAE;MAChD,IAAIJ,KAAK,CAACJ,QAAQ,CAACE,IAAI,IAAIE,KAAK,CAACJ,QAAQ,CAACE,IAAI,CAACE,KAAK,EAAE;QACpDE,YAAY,GAAGF,KAAK,CAACJ,QAAQ,CAACE,IAAI,CAACE,KAAK;MAC1C;IACF,CAAC,MAAM,IAAIA,KAAK,CAACC,OAAO,EAAE;MACxB;MACAC,YAAY,GAAG,iDAAiD;IAClE;IAEA,OAAO;MAAEH,OAAO,EAAE,KAAK;MAAEC,KAAK,EAAEE;IAAa,CAAC;EAChD;AACF,CAAC;;AAED;AACA;AACA;;AAEA,MAAMG,UAAU,GAAG;EACjBhB;AACF,CAAC;AAED,eAAegB,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}